---
learning_level: "Nerd ‚Üí Novice"
prerequisites:
  - "docs/sessions/L2/06_S5.md"
estimated_time: "30 minutes"
session_type: "Knowledge"
learning_objectives:
  - "Understand variable scope: local vs global"
  - "Know when variables are accessible"
  - "Use global keyword appropriately"
  - "Organize code into logical functions"
  - "Understand function call stack"
  - "Write well-organized, maintainable code"
related_topics:
  prerequisites:
    - "docs/sessions/L2/06_S5.md"
    - "docs/sessions/L2/03_S3.md"
  builds_upon:
    - "docs/sessions/L2/03_S3.md"
    - "docs/sessions/L2/06_S5.md"
  enables:
    - "docs/sessions/L2/08_S7.md"
    - "docs/sessions/L2/09_S8.md"
    - "docs/sessions/L2/10_MP2.md"
  cross_refs: []
---

# Session 6: Functions: Scope & Code Organization

**Duration:** 30 minutes  
**Type:** üìö Knowledge  
**Level:** Nerd ‚Üí Novice

---

## üéØ **Session Overview & Agenda**

### **What You'll Learn:**

- ‚úÖ Understand variable scope: local vs global
- ‚úÖ Know when variables are accessible inside and outside functions
- ‚úÖ Use `global` keyword appropriately (and when not to)
- ‚úÖ Organize code into logical, reusable functions
- ‚úÖ Understand how function calls work (call stack)
- ‚úÖ Write well-organized, maintainable code

### **Session Flow:**

| Part | Activity                        | Description                                                                                |
| ---- | ------------------------------- | ------------------------------------------------------------------------------------------ |
| 1    | Understanding Scope             | Local vs global variables                                                                 |
| 2    | Local Variables                 | Variables inside functions                                                                |
| 3    | Global Variables                | Variables outside functions and the global keyword                                         |
| 4    | Code Organization               | Organizing code into logical functions                                                     |
| 5    | Best Practices                  | When to use local vs global, function design                                               |
| 6    | Hands-on Practice               | Practice files demonstrating scope and organization                                       |

---

## üìã **Before You Begin**

### **Prerequisites:**

‚úÖ Completed [Session 5: Functions: Parameters & Return Values](docs/sessions/L2/06_S5.md)  
‚úÖ Understand function parameters and return values  
‚úÖ Comfortable with creating and calling functions  
‚úÖ Know basic variable assignment

---

## üíª **Part 1: Understanding Scope**

### **What is Scope?**

**Scope** determines where a variable can be accessed in your code. Think of it as "visibility" - who can see this variable?

**Two Main Types:**

- **Local scope**: Variables inside a function
- **Global scope**: Variables outside functions (at module level)

### **The Problem: Variable Access**

```python
name = "Alice"  # Global variable

def greet():
    print(f"Hello, {name}")  # Can we access name here?

greet()  # What happens?
```

**Key Question:** Can the function see the `name` variable?

---

## üíª **Part 2: Local Variables**

### **Variables Created Inside Functions**

Variables created inside a function are **local** - they only exist inside that function:

```python
def calculate():
    result = 10 + 5  # Local variable
    print(f"Result: {result}")

calculate()
# print(result)  # Error! result doesn't exist outside the function
```

**Key Points:**

- ‚úÖ Local variables are only accessible inside the function
- ‚úÖ They're created when the function runs
- ‚úÖ They're destroyed when the function ends
- ‚úÖ Each function call gets its own copy

### **Multiple Functions, Same Variable Name**

Different functions can have variables with the same name - they don't interfere:

```python
def function_a():
    value = 10  # Local to function_a
    print(f"Function A: {value}")

def function_b():
    value = 20  # Local to function_b (different variable!)
    print(f"Function B: {value}")

function_a()  # Function A: 10
function_b()  # Function B: 20
```

### **Parameters are Local**

Function parameters are also local variables:

```python
def greet(name):
    # 'name' is a local variable (parameter)
    print(f"Hello, {name}!")

greet("Alice")
# print(name)  # Error! name doesn't exist outside
```

---

## üíª **Part 3: Global Variables**

### **Reading Global Variables**

Functions can **read** global variables (variables defined outside):

```python
name = "Alice"  # Global variable

def greet():
    print(f"Hello, {name}!")  # Can read global variable

greet()  # "Hello, Alice!"
```

**This works!** Functions can read global variables.

### **The Problem: Modifying Global Variables**

But what if you want to **change** a global variable?

```python
count = 0  # Global variable

def increment():
    count = count + 1  # Error! Can't modify global like this
    print(count)

increment()
```

**This causes an error!** Python thinks `count` is a new local variable.

### **Solution: The `global` Keyword**

Use `global` to modify global variables:

```python
count = 0  # Global variable

def increment():
    global count  # Tell Python we want to use the global variable
    count = count + 1
    print(f"Count: {count}")

increment()  # Count: 1
increment()  # Count: 2
print(f"Final count: {count}")  # Final count: 2
```

**Important:** Only use `global` when you really need to modify a global variable. Usually, it's better to pass values as parameters and return results!

### **Best Practice: Avoid Global When Possible**

**Not Recommended:**

```python
total = 0  # Global

def add_to_total(value):
    global total
    total = total + value

add_to_total(10)
add_to_total(20)
print(total)
```

**Better Approach:**

```python
def add_values(a, b):
    return a + b  # Return instead of modifying global

result = add_values(10, 20)
print(result)
```

---

## üíª **Part 4: Code Organization**

### **Organizing Code into Functions**

Good code organization makes programs easier to understand and maintain:

#### Bad: Everything in one place

```python
# All code mixed together
name = input("Enter name: ")
age = input("Enter age: ")
age = int(age)
if age < 0:
    print("Invalid age!")
else:
    print(f"{name} is {age} years old")
    if age >= 18:
        print("Adult")
    else:
        print("Minor")
```

#### Good: Organized into functions

```python
def get_user_info():
    name = input("Enter name: ")
    age = int(input("Enter age: "))
    return name, age

def validate_age(age):
    if age < 0:
        return False
    return True

def display_info(name, age):
    print(f"{name} is {age} years old")
    if age >= 18:
        print("Adult")
    else:
        print("Minor")

# Main program
name, age = get_user_info()
if validate_age(age):
    display_info(name, age)
else:
    print("Invalid age!")
```

**Benefits:**

- ‚úÖ Each function has a single responsibility
- ‚úÖ Code is reusable
- ‚úÖ Easier to test
- ‚úÖ Easier to understand

### **Function Design Principles**

1. **Single Responsibility**: Each function does one thing
2. **Clear Names**: Function names describe what they do
3. **Parameters Over Globals**: Pass data in, return data out
4. **Keep Functions Small**: Easier to understand and debug

---

## üíª **Part 5: Best Practices**

### **When to Use Local Variables**

**Use local variables when:**

- ‚úÖ Variable is only needed inside the function
- ‚úÖ Variable is temporary (calculation result, loop counter)
- ‚úÖ You want to avoid naming conflicts

```python
def calculate_total(prices):
    total = 0  # Local variable
    for price in prices:
        total = total + price
    return total
```

### **When to Use Global Variables**

**Use global variables when:**

- ‚úÖ Configuration that rarely changes (constants)
- ‚úÖ Shared state that multiple functions need (use carefully!)
- ‚úÖ Module-level constants

```python
# Good use: Constants
MAX_SIZE = 100
DEFAULT_NAME = "Guest"

def check_size(value):
    if value > MAX_SIZE:
        print("Too large!")
```

### **Avoiding Common Mistakes**

**Mistake 1: Modifying global without `global` keyword**

```python
count = 0

def increment():
    count = count + 1  # Error!
```

**Mistake 2: Using `global` when you don't need to**

```python
def add(a, b):
    global result  # Unnecessary!
    result = a + b
    return result
```

#### Mistake 3: Too many global variables

```python
# Too many globals - hard to track
name = ""
age = 0
city = ""
score = 0
# ... many more
```

---

## üöÄ **Part 6: Hands-on Practice**

### **Practice File 1: Local Variables**

üß™ *Practice Files*:  
`src/L2/S6/01_local_scope.py`

```python
# Filename: src/L2/S6/01_local_scope.py
# Session 6: Functions - Local Scope

def function_a():
    value = 10  # Local variable
    print(f"Function A: {value}")

def function_b():
    value = 20  # Different local variable
    print(f"Function B: {value}")

function_a()  # Function A: 10
function_b()  # Function B: 20

# value doesn't exist here
# print(value)  # Would cause error
```

### **Practice File 2: Global Variables**

üß™ *Practice Files*:  
`src/L2/S6/02_global_scope.py`

```python
# Filename: src/L2/S6/02_global_scope.py
# Session 6: Functions - Global Scope

# Global variable
name = "Alice"

def greet():
    # Can read global variable
    print(f"Hello, {name}!")

greet()  # Hello, Alice!

# Modifying global
count = 0

def increment():
    global count
    count = count + 1
    print(f"Count: {count}")

increment()  # Count: 1
increment()  # Count: 2
print(f"Final: {count}")  # Final: 2
```

### **Practice File 3: Code Organization**

üß™ *Practice Files*:  
`src/L2/S6/03_code_organization.py`

```python
# Filename: src/L2/S6/03_code_organization.py
# Session 6: Functions - Code Organization

def get_user_input():
    """Get and validate user input."""
    name = input("Enter name: ")
    age = int(input("Enter age: "))
    return name, age

def validate_age(age):
    """Check if age is valid."""
    return age >= 0 and age <= 120

def display_info(name, age):
    """Display user information."""
    print(f"\nName: {name}")
    print(f"Age: {age}")
    if age >= 18:
        print("Status: Adult")
    else:
        print("Status: Minor")

# Main program
def main():
    name, age = get_user_input()
    if validate_age(age):
        display_info(name, age)
    else:
        print("Invalid age!")

main()
```

---

## üìù **Key Takeaways**

- **Local variables** exist only inside functions
- **Global variables** can be read by functions, but need `global` keyword to modify
- **Scope** determines where variables are accessible
- **Organize code** into logical functions with single responsibilities
- **Prefer parameters and returns** over global variables when possible
- **Keep functions small** and focused on one task

---

## üîß **Troubleshooting**

### **Common Issues:**

**Issue:** `UnboundLocalError: local variable referenced before assignment`  
**Solution:** Use `global` keyword if you want to modify a global variable, or pass it as a parameter

**Issue:** Variable not accessible outside function  
**Solution:** Return the value from the function instead of keeping it local

**Issue:** Too many global variables  
**Solution:** Organize code into functions that pass data via parameters

---

## üîó **What's Next?**

In the next session, you'll learn **File Handling** - reading and writing text files, which is essential for working with data!

**Related Sessions:**

- [Session 7: File Handling: Reading & Writing Text Files](docs/sessions/L2/08_S7.md) - Work with files
- [Session 8: Modules Deep Dive & Code Organization](docs/sessions/L2/09_S8.md) - Organize code into modules
- [Mini Project 2: Text File Application](docs/sessions/L2/10_MP2.md) - Apply file handling

---

‚ú® Happy Coding! üêç
