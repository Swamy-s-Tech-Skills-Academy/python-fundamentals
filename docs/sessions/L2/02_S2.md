---
learning_level: "Nerd ‚Üí Novice"
prerequisites:
  - "docs/sessions/L2/01_S1.md"
estimated_time: "30 minutes"
session_type: "Knowledge"
learning_objectives:
  - "Understand what list comprehensions are and why they're useful"
  - "Write basic list comprehensions with simple expressions"
  - "Add conditions to list comprehensions for filtering"
  - "Know when to use comprehensions vs traditional loops"
  - "Create new lists from existing data structures"
  - "Transform and filter data elegantly"
related_topics:
  prerequisites:
    - "docs/sessions/L2/01_S1.md"
    - "docs/sessions/L1/08_S7.md"
  builds_upon:
    - "docs/sessions/L1/08_S7.md"
    - "docs/sessions/L2/01_S1.md"
  enables:
    - "docs/sessions/L2/03_S3.md"
    - "docs/sessions/L2/05_MP1.md"
  cross_refs: []
---

# Session 2: List Comprehensions

**Duration:** 30 minutes  
**Type:** üìö Knowledge  
**Level:** Nerd ‚Üí Novice

---

## üéØ **Session Overview & Agenda**

### **What You'll Learn:**

- ‚úÖ Understand what list comprehensions are and why they're elegant
- ‚úÖ Write basic list comprehensions with expressions
- ‚úÖ Add conditions to filter data
- ‚úÖ Know when to use comprehensions vs traditional loops
- ‚úÖ Transform lists, sets, and other iterables
- ‚úÖ Write readable, Pythonic code

### **Session Flow:**

| Part | Activity                        | Description                                                                                |
| ---- | ------------------------------- | ------------------------------------------------------------------------------------------ |
| 1    | What Are List Comprehensions?  | Introduction to comprehensions and their benefits                                          |
| 2    | Basic Syntax                   | Simple list comprehensions with expressions                                               |
| 3    | Adding Conditions              | Filtering data with if conditions                                                          |
| 4    | Comprehensions vs Loops        | When to use each approach                                                                 |
| 5    | Practical Examples             | Real-world scenarios using comprehensions                                                 |
| 6    | Hands-on Practice              | Practice files demonstrating comprehensions in action                                     |

---

## üìã **Before You Begin**

### **Prerequisites:**

‚úÖ Completed [Session 1: Advanced Data Structures](docs/sessions/L2/01_S1.md)  
‚úÖ Understand lists and loops from [Level 1 Session 7](docs/sessions/L1/08_S7.md)  
‚úÖ Comfortable with `for` loops and `if` statements  
‚úÖ Know how to work with lists and sets

---

## üíª **Part 1: What Are List Comprehensions?**

### **The Problem: Creating Lists the Traditional Way**

Imagine you want to create a list of squares from 1 to 10. The traditional way:

```python
# Traditional approach with a loop
squares = []
for number in range(1, 11):
    squares.append(number ** 2)
print(squares)  # [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
```

This works, but it's verbose - 4 lines of code!

### **The Solution: List Comprehensions**

List comprehensions let you create lists in a single, elegant line:

```python
# List comprehension - same result, one line!
squares = [number ** 2 for number in range(1, 11)]
print(squares)  # [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
```

**Benefits:**
- ‚úÖ More concise and readable
- ‚úÖ Pythonic (the "Python way")
- ‚úÖ Often faster than loops
- ‚úÖ Less code to write and maintain

---

## üíª **Part 2: Basic Syntax**

### **The Pattern**

List comprehensions follow this pattern:

```python
[expression for item in iterable]
```

**Breaking it down:**
- `expression`: What to do with each item
- `for item in iterable`: Loop through the data source

### **Simple Examples**

```python
# Create list of numbers 0-9
numbers = [x for x in range(10)]
print(numbers)  # [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

# Double each number
doubled = [x * 2 for x in range(5)]
print(doubled)  # [0, 2, 4, 6, 8]

# Convert strings to uppercase
words = ["hello", "world", "python"]
uppercase = [word.upper() for word in words]
print(uppercase)  # ['HELLO', 'WORLD', 'PYTHON']

# Get lengths of words
lengths = [len(word) for word in words]
print(lengths)  # [5, 5, 6]
```

### **Working with Different Data Sources**

List comprehensions work with any iterable:

```python
# From a list
numbers = [1, 2, 3, 4, 5]
squares = [n ** 2 for n in numbers]
print(squares)  # [1, 4, 9, 16, 25]

# From a string
text = "Python"
letters = [char.upper() for char in text]
print(letters)  # ['P', 'Y', 'T', 'H', 'O', 'N']

# From a set
unique_numbers = {1, 2, 3, 4, 5}
doubled = [n * 2 for n in unique_numbers]
print(doubled)  # [2, 4, 6, 8, 10] (order may vary)
```

---

## üíª **Part 3: Adding Conditions**

### **Filtering with `if`**

You can add conditions to filter items:

```python
[expression for item in iterable if condition]
```

**Examples:**

```python
# Get only even numbers
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
evens = [n for n in numbers if n % 2 == 0]
print(evens)  # [2, 4, 6, 8, 10]

# Get words longer than 5 characters
words = ["apple", "banana", "cat", "elephant", "dog"]
long_words = [word for word in words if len(word) > 5]
print(long_words)  # ['banana', 'elephant']

# Get positive numbers only
scores = [85, -10, 92, -5, 88, 0, 95]
positive = [score for score in scores if score > 0]
print(positive)  # [85, 92, 88, 95]
```

### **Combining Expression and Condition**

You can transform AND filter at the same time:

```python
# Square only even numbers
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
even_squares = [n ** 2 for n in numbers if n % 2 == 0]
print(even_squares)  # [4, 16, 36, 64, 100]

# Uppercase words that start with 'a'
words = ["apple", "banana", "apricot", "cherry", "avocado"]
a_words = [word.upper() for word in words if word.startswith('a')]
print(a_words)  # ['APPLE', 'APRICOT', 'AVOCADO']
```

---

## üíª **Part 4: Comprehensions vs Loops**

### **When to Use List Comprehensions**

**Use comprehensions when:**
- ‚úÖ Creating a new list from existing data
- ‚úÖ Simple transformations or filtering
- ‚úÖ Code fits on one or two lines
- ‚úÖ You want Pythonic, readable code

**Use loops when:**
- ‚úÖ Complex logic that's hard to read in one line
- ‚úÖ You need side effects (printing, file operations)
- ‚úÖ Multiple operations per iteration
- ‚úÖ Code would be too long or confusing as a comprehension

### **Comparison Example**

```python
# Task: Get squares of even numbers from 1-10

# Method 1: List Comprehension (preferred for this)
squares = [n ** 2 for n in range(1, 11) if n % 2 == 0]
print(squares)  # [4, 16, 36, 64, 100]

# Method 2: Traditional Loop (works, but more verbose)
squares = []
for n in range(1, 11):
    if n % 2 == 0:
        squares.append(n ** 2)
print(squares)  # [4, 16, 36, 64, 100]
```

**Both work, but the comprehension is more elegant!**

---

## üíª **Part 5: Practical Examples**

### **Example 1: Processing Student Scores**

```python
# Get scores above 80
scores = [75, 85, 92, 68, 88, 95, 72]
high_scores = [score for score in scores if score >= 80]
print("High scores:", high_scores)  # [85, 92, 88, 95]

# Add bonus points to passing scores (>= 70)
bonus_scores = [score + 5 if score >= 70 else score for score in scores]
print("With bonus:", bonus_scores)
```

### **Example 2: Working with Strings**

```python
# Extract first letter of each word
words = ["Python", "Programming", "Fun"]
first_letters = [word[0] for word in words]
print(first_letters)  # ['P', 'P', 'F']

# Get words that are palindromes (same forwards and backwards)
words = ["radar", "hello", "level", "world", "madam"]
palindromes = [word for word in words if word == word[::-1]]
print(palindromes)  # ['radar', 'level', 'madam']
```

### **Example 3: Data Transformation**

```python
# Convert temperatures from Celsius to Fahrenheit
celsius = [0, 10, 20, 30, 40]
fahrenheit = [(temp * 9/5) + 32 for temp in celsius]
print(fahrenheit)  # [32.0, 50.0, 68.0, 86.0, 104.0]

# Remove duplicates and sort (using set comprehension)
numbers = [3, 1, 4, 1, 5, 9, 2, 6, 5, 3]
unique_sorted = sorted([n for n in set(numbers)])
print(unique_sorted)  # [1, 2, 3, 4, 5, 6, 9]
```

---

## üöÄ **Part 6: Hands-on Practice**

### **Practice File 1: Basic Comprehensions**

üß™ *Practice Files*:  
`src/L2/S2/01_basic_comprehensions.py`

```python
# Filename: src/L2/S2/01_basic_comprehensions.py
# Session 2: List Comprehensions - Basics

# Create list of numbers 0-9
numbers = [x for x in range(10)]
print("Numbers 0-9:", numbers)

# Square each number
squares = [x ** 2 for x in range(1, 11)]
print("Squares 1-10:", squares)

# Double each number
doubled = [x * 2 for x in range(5)]
print("Doubled 0-4:", doubled)

# Convert strings to uppercase
words = ["hello", "world", "python"]
uppercase = [word.upper() for word in words]
print("Uppercase words:", uppercase)
```

### **Practice File 2: Comprehensions with Conditions**

üß™ *Practice Files*:  
`src/L2/S2/02_filtered_comprehensions.py`

```python
# Filename: src/L2/S2/02_filtered_comprehensions.py
# Session 2: List Comprehensions - Filtering

# Get only even numbers
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
evens = [n for n in numbers if n % 2 == 0]
print("Even numbers:", evens)

# Get words longer than 5 characters
words = ["apple", "banana", "cat", "elephant", "dog"]
long_words = [word for word in words if len(word) > 5]
print("Long words:", long_words)

# Square only even numbers
even_squares = [n ** 2 for n in range(1, 11) if n % 2 == 0]
print("Squares of evens:", even_squares)

# Get positive scores
scores = [85, -10, 92, -5, 88, 0, 95]
positive = [score for score in scores if score > 0]
print("Positive scores:", positive)
```

### **Practice File 3: Real-World Examples**

üß™ *Practice Files*:  
`src/L2/S2/03_practical_examples.py`

```python
# Filename: src/L2/S2/03_practical_examples.py
# Session 2: List Comprehensions - Practical Examples

# Process student scores
scores = [75, 85, 92, 68, 88, 95, 72]
high_scores = [score for score in scores if score >= 80]
print("High scores (>=80):", high_scores)

# Extract first letters
words = ["Python", "Programming", "Fun"]
first_letters = [word[0] for word in words]
print("First letters:", first_letters)

# Convert Celsius to Fahrenheit
celsius = [0, 10, 20, 30, 40]
fahrenheit = [(temp * 9/5) + 32 for temp in celsius]
print("Fahrenheit:", fahrenheit)

# Remove duplicates and sort
numbers = [3, 1, 4, 1, 5, 9, 2, 6, 5, 3]
unique_sorted = sorted([n for n in set(numbers)])
print("Unique sorted:", unique_sorted)
```

---

## üìù **Key Takeaways**

- **List comprehensions** are elegant, one-line ways to create lists
- **Basic syntax**: `[expression for item in iterable]`
- **Add conditions**: `[expression for item in iterable if condition]`
- **Use comprehensions** for simple transformations and filtering
- **Use loops** for complex logic or side effects
- **Pythonic code** is readable and concise

---

## üîß **Troubleshooting**

### **Common Issues:**

**Issue:** Comprehension is too long and hard to read  
**Solution:** Break it into multiple lines or use a traditional loop

**Issue:** Getting `SyntaxError` with comprehension  
**Solution:** Check brackets - use `[]` for list comprehensions, not `()`

**Issue:** Comprehension returns empty list unexpectedly  
**Solution:** Check your condition - it might be filtering out all items

---

## üîó **What's Next?**

In the next session, you'll learn **Functions** - the building blocks of reusable code! List comprehensions work great inside functions.

**Related Sessions:**
- [Session 3: Functions: Definition & Basics](docs/sessions/L2/03_S3.md) - Create reusable code
- [Mini Project 1: Data Processor](docs/sessions/L2/05_MP1.md) - Use comprehensions in a project

---

‚ú® Happy Coding! üêç

